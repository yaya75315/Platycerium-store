{"ast":null,"code":"import _objectSpread from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"commons/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartItem=/*#__PURE__*/function(_Component){_inherits(CartItem,_Component);var _super=_createSuper(CartItem);function CartItem(props){var _this;_classCallCheck(this,CartItem);_this=_super.call(this,props);_this.handleChange=function(e){var _mount=parseInt(e.target.value);_this.setState({mount:_mount});var newCart=_objectSpread(_objectSpread({},_this.props.cart),{},{mount:_mount});axios.put(\"/carts/\".concat(_this.props.cart.id),newCart).then(function(res){_this.props.updateCart(newCart);});};_this.deleteCart=function(){axios.delete(\"/carts/\".concat(_this.props.cart.id)).then(function(res){return _this.props.deleteCart(_this.props.cart);});};_this.state={mount:_this.props.cart.mount};return _this;}_createClass(CartItem,[{key:\"render\",value:function render(){var _ref=this.props.cart||{},name=_ref.name,image=_ref.image,price=_ref.price;var sumPrice=this.state.mount*parseInt(price);return/*#__PURE__*/_jsxs(\"div\",{className:\"columns is-vcentered\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column is-narrow\",onClick:this.deleteCart,children:/*#__PURE__*/_jsx(\"span\",{className:\"close\",children:\"X\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"column is-narrow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart-image\",children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"column cart-name is-narrow\",children:name}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[\"$\",price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"input num-input\",defaultValue:this.state.mount,onChange:this.handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"column\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"sum-price\",children:[\"$\",sumPrice]})})]});}}]);return CartItem;}(Component);export{CartItem as default};","map":{"version":3,"sources":["/Users/wangyazhi/Documents/作品集/Platycerium-store/online-store/src/component/CartItem.js"],"names":["React","Component","axios","CartItem","props","handleChange","e","_mount","parseInt","target","value","setState","mount","newCart","cart","put","id","then","res","updateCart","deleteCart","delete","state","name","image","price","sumPrice"],"mappings":"87BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,C,2FACqBC,CAAAA,Q,oGACnB,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MAMnBC,YANmB,CAMJ,SAACC,CAAD,CAAO,CACpB,GAAMC,CAAAA,MAAM,CAAGC,QAAQ,CAACF,CAAC,CAACG,MAAF,CAASC,KAAV,CAAvB,CACA,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAEL,MAAT,CAAd,EACA,GAAMM,CAAAA,OAAO,gCAAQ,MAAKT,KAAL,CAAWU,IAAnB,MAAyBF,KAAK,CAAEL,MAAhC,EAAb,CACAL,KAAK,CAACa,GAAN,kBAAoB,MAAKX,KAAL,CAAWU,IAAX,CAAgBE,EAApC,EAA0CH,OAA1C,EAAmDI,IAAnD,CAAwD,SAACC,GAAD,CAAS,CAC/D,MAAKd,KAAL,CAAWe,UAAX,CAAsBN,OAAtB,EACD,CAFD,EAGD,CAbkB,OAenBO,UAfmB,CAeN,UAAM,CACjBlB,KAAK,CACFmB,MADH,kBACoB,MAAKjB,KAAL,CAAWU,IAAX,CAAgBE,EADpC,GAEGC,IAFH,CAEQ,SAACC,GAAD,QAAS,OAAKd,KAAL,CAAWgB,UAAX,CAAsB,MAAKhB,KAAL,CAAWU,IAAjC,CAAT,EAFR,EAGD,CAnBkB,CAEjB,MAAKQ,KAAL,CAAa,CACXV,KAAK,CAAE,MAAKR,KAAL,CAAWU,IAAX,CAAgBF,KADZ,CAAb,CAFiB,aAKlB,C,2CAgBD,iBAAS,UACwB,KAAKR,KAAL,CAAWU,IAAX,EAAmB,EAD3C,CACCS,IADD,MACCA,IADD,CACOC,KADP,MACOA,KADP,CACcC,KADd,MACcA,KADd,CAEP,GAAMC,CAAAA,QAAQ,CAAG,KAAKJ,KAAL,CAAWV,KAAX,CAAmBJ,QAAQ,CAACiB,KAAD,CAA5C,CACA,mBACE,aAAK,SAAS,CAAC,sBAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,CAAkC,OAAO,CAAE,KAAKL,UAAhD,uBACE,aAAM,SAAS,CAAC,OAAhB,eADF,EADF,cAIE,YAAK,SAAS,CAAC,kBAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YAAK,GAAG,CAAEI,KAAV,CAAiB,GAAG,CAAC,EAArB,EADF,EADF,EAJF,cASE,YAAK,SAAS,CAAC,4BAAf,UAA6CD,IAA7C,EATF,cAUE,YAAK,SAAS,CAAC,QAAf,uBACE,cAAM,SAAS,CAAC,OAAhB,eAA0BE,KAA1B,GADF,EAVF,cAaE,YAAK,SAAS,CAAC,QAAf,uBACE,cACE,IAAI,CAAC,QADP,CAEE,GAAG,CAAE,CAFP,CAGE,SAAS,CAAC,iBAHZ,CAIE,YAAY,CAAE,KAAKH,KAAL,CAAWV,KAJ3B,CAKE,QAAQ,CAAE,KAAKP,YALjB,EADF,EAbF,cAsBE,YAAK,SAAS,CAAC,QAAf,uBACE,cAAM,SAAS,CAAC,WAAhB,eAA8BqB,QAA9B,GADF,EAtBF,GADF,CA4BD,C,sBArDmCzB,S,SAAjBE,Q","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"commons/axios\";\nexport default class CartItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mount: this.props.cart.mount,\n    };\n  }\n  handleChange = (e) => {\n    const _mount = parseInt(e.target.value);\n    this.setState({ mount: _mount });\n    const newCart = { ...this.props.cart, mount: _mount };\n    axios.put(`/carts/${this.props.cart.id}`, newCart).then((res) => {\n      this.props.updateCart(newCart);\n    });\n  };\n\n  deleteCart = () => {\n    axios\n      .delete(`/carts/${this.props.cart.id}`)\n      .then((res) => this.props.deleteCart(this.props.cart));\n  };\n\n  render() {\n    const { name, image, price } = this.props.cart || {};\n    const sumPrice = this.state.mount * parseInt(price);\n    return (\n      <div className=\"columns is-vcentered\">\n        <div className=\"column is-narrow\" onClick={this.deleteCart}>\n          <span className=\"close\">X</span>\n        </div>\n        <div className=\"column is-narrow\">\n          <div className=\"cart-image\">\n            <img src={image} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"column cart-name is-narrow\">{name}</div>\n        <div className=\"column\">\n          <span className=\"price\">${price}</span>\n        </div>\n        <div className=\"column\">\n          <input\n            type=\"number\"\n            min={1}\n            className=\"input num-input\"\n            defaultValue={this.state.mount}\n            onChange={this.handleChange}\n          />\n        </div>\n        <div className=\"column\">\n          <span className=\"sum-price\">${sumPrice}</span>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}