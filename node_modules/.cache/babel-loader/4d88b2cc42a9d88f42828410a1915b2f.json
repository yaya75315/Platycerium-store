{"ast":null,"code":"import _axios from\"axios\";var axios=function axios(baseURL){var instance=_axios.create({baseURL:\"http://localhost:3004\",timeout:\"1000\"});// 配置攔截器\ninstance.interceptors.request.use(function(config){// Do something before request is sent\nvar jwToken=global.auth.getToken();config.headers[\"Authorization\"]=\"Bearer \"+jwToken;// console.log(config.headers.Authorization);\nreturn config;},function(error){// Do something with request error\nreturn Promise.reject(error);});return instance;};export{axios};export default axios();","map":{"version":3,"sources":["/Users/wangyazhi/Documents/作品集/Platycerium-store/online-store/src/commons/axios.js"],"names":["_axios","axios","baseURL","instance","create","timeout","interceptors","request","use","config","jwToken","global","auth","getToken","headers","error","Promise","reject"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,OAAnB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,OAAD,CAAa,CACzB,GAAMC,CAAAA,QAAQ,CAAGH,MAAM,CAACI,MAAP,CAAc,CAC7BF,OAAO,CAAE,uBADoB,CAE7BG,OAAO,CAAE,MAFoB,CAAd,CAAjB,CAKA;AACAF,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACE,SAACC,MAAD,CAAY,CACV;AACA,GAAMC,CAAAA,OAAO,CAAGC,MAAM,CAACC,IAAP,CAAYC,QAAZ,EAAhB,CAEAJ,MAAM,CAACK,OAAP,CAAe,eAAf,EAAkC,UAAYJ,OAA9C,CACA;AACA,MAAOD,CAAAA,MAAP,CACD,CARH,CASE,SAACM,KAAD,CAAW,CACT;AACA,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACD,CAZH,EAeA,MAAOZ,CAAAA,QAAP,CACD,CAvBD,CAyBA,OAASF,KAAT,EACA,cAAeA,CAAAA,KAAK,EAApB","sourcesContent":["import _axios from \"axios\";\n\nconst axios = (baseURL) => {\n  const instance = _axios.create({\n    baseURL: \"http://localhost:3004\",\n    timeout: \"1000\",\n  });\n\n  // 配置攔截器\n  instance.interceptors.request.use(\n    (config) => {\n      // Do something before request is sent\n      const jwToken = global.auth.getToken();\n\n      config.headers[\"Authorization\"] = \"Bearer \" + jwToken;\n      // console.log(config.headers.Authorization);\n      return config;\n    },\n    (error) => {\n      // Do something with request error\n      return Promise.reject(error);\n    }\n  );\n\n  return instance;\n};\n\nexport { axios };\nexport default axios();\n"]},"metadata":{},"sourceType":"module"}