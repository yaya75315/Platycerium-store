{"ast":null,"code":"import _axios from \"axios\";\n\nconst axios = baseURL => {\n  const instance = _axios.create({\n    baseURL: \"http://localhost:3004\",\n    timeout: \"1000\"\n  }); // 配置攔截器\n\n\n  instance.interceptors.request.use(config => {\n    // Do something before request is sent\n    const jwToken = global.auth.getToken();\n    config.headers[\"Authorization\"] = \"Bearer \" + jwToken; // console.log(config.headers.Authorization);\n\n    return config;\n  }, error => {\n    // Do something with request error\n    return Promise.reject(error);\n  });\n  return instance;\n};\n\nexport { axios };\nexport default axios();","map":{"version":3,"sources":["/Users/wangyazhi/Documents/作品集/Platycerium-store/online-store/src/commons/axios.js"],"names":["_axios","axios","baseURL","instance","create","timeout","interceptors","request","use","config","jwToken","global","auth","getToken","headers","error","Promise","reject"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,OAAnB;;AAEA,MAAMC,KAAK,GAAIC,OAAD,IAAa;AACzB,QAAMC,QAAQ,GAAGH,MAAM,CAACI,MAAP,CAAc;AAC7BF,IAAAA,OAAO,EAAE,uBADoB;AAE7BG,IAAAA,OAAO,EAAE;AAFoB,GAAd,CAAjB,CADyB,CAMzB;;;AACAF,EAAAA,QAAQ,CAACG,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACGC,MAAD,IAAY;AACV;AACA,UAAMC,OAAO,GAAGC,MAAM,CAACC,IAAP,CAAYC,QAAZ,EAAhB;AAEAJ,IAAAA,MAAM,CAACK,OAAP,CAAe,eAAf,IAAkC,YAAYJ,OAA9C,CAJU,CAKV;;AACA,WAAOD,MAAP;AACD,GARH,EASGM,KAAD,IAAW;AACT;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,GAZH;AAeA,SAAOZ,QAAP;AACD,CAvBD;;AAyBA,SAASF,KAAT;AACA,eAAeA,KAAK,EAApB","sourcesContent":["import _axios from \"axios\";\n\nconst axios = (baseURL) => {\n  const instance = _axios.create({\n    baseURL: \"http://localhost:3004\",\n    timeout: \"1000\",\n  });\n\n  // 配置攔截器\n  instance.interceptors.request.use(\n    (config) => {\n      // Do something before request is sent\n      const jwToken = global.auth.getToken();\n\n      config.headers[\"Authorization\"] = \"Bearer \" + jwToken;\n      // console.log(config.headers.Authorization);\n      return config;\n    },\n    (error) => {\n      // Do something with request error\n      return Promise.reject(error);\n    }\n  );\n\n  return instance;\n};\n\nexport { axios };\nexport default axios();\n"]},"metadata":{},"sourceType":"module"}