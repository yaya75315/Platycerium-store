{"ast":null,"code":"import _objectSpread from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"commons/axios\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditInventory=/*#__PURE__*/function(_Component){_inherits(EditInventory,_Component);var _super=_createSuper(EditInventory);function EditInventory(){var _this;_classCallCheck(this,EditInventory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:\"\",name:\"\",price:0,tags:\"\",image:\"\",status:\"available\"};_this.handleChange=function(e){var value=e.target.value;var name=e.target.name;_this.setState(_defineProperty({},name,value));};_this.submit=function(e){e.preventDefault();var product=_objectSpread({},_this.state);axios.put(\"products/\".concat(_this.state.id),product).then(function(res){console.log(res.data);_this.props.close(res.data);toast.success(\"編輯成功！！\");});};_this.onDelete=function(){axios.delete(\"products/\".concat(_this.state.id)).then(function(res){_this.props.deleteProduct(_this.state.id);_this.props.close();toast.success(\"刪除成功！！\");});};return _this;}_createClass(EditInventory,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props$product=this.props.product,id=_this$props$product.id,name=_this$props$product.name,image=_this$props$product.image,tags=_this$props$product.tags,price=_this$props$product.price,status=_this$props$product.status;this.setState({id:id,name:name,image:image,tags:tags,price:price,status:status});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"inventory\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title has-text-centered\",children:\"\\u8CA8\\u54C1\\u8CC7\\u8A0A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"\\u5546\\u54C1\\u540D\\u7A31\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea\",placeholder:\"Textarea\",name:\"name\",value:this.state.name,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"\\u5546\\u54C1\\u50F9\\u683C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input\",name:\"price\",value:this.state.price,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"\\u9644\\u8A3B\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",name:\"tags\",value:this.state.tags,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"\\u5716\\u7247\\u8DEF\\u5F91\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",name:\"image\",value:this.state.image,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"\\u5B58\\u8CA8\\u72C0\\u614B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"select is-fullwidth\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:this.state.status,onChange:this.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u6709\\u5EAB\\u5B58\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u7121\\u5EAB\\u5B58\"})]})})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"field is-grouped is-grouped-centered\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-link\",onClick:this.submit,children:\"Submit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button is-danger\",type:\"button\",onClick:this.onDelete,children:\"Delete\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",type:\"button\",onClick:function onClick(){return _this2.props.close();},children:\"Cancel\"})})]})]});}}]);return EditInventory;}(Component);export default EditInventory;","map":{"version":3,"sources":["/Users/wangyazhi/Documents/作品集/Platycerium-store/online-store/src/component/EditInventory.js"],"names":["React","Component","axios","toast","EditInventory","state","id","name","price","tags","image","status","handleChange","e","value","target","setState","submit","preventDefault","product","put","then","res","console","log","data","props","close","success","onDelete","delete","deleteProduct"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"commons/axios\";\nimport { toast } from \"react-toastify\";\n\nclass EditInventory extends Component {\n  state = {\n    id: \"\",\n    name: \"\",\n    price: 0,\n    tags: \"\",\n    image: \"\",\n    status: \"available\",\n  };\n\n  componentDidMount() {\n    const { id, name, image, tags, price, status } = this.props.product;\n    this.setState({\n      id,\n      name,\n      image,\n      tags,\n      price,\n      status,\n    });\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    const name = e.target.name;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  submit = (e) => {\n    e.preventDefault();\n    const product = { ...this.state };\n    axios.put(`products/${this.state.id}`, product).then((res) => {\n      console.log(res.data);\n      this.props.close(res.data);\n      toast.success(\"編輯成功！！\");\n    });\n  };\n\n  onDelete = () => {\n    axios.delete(`products/${this.state.id}`).then((res) => {\n      this.props.deleteProduct(this.state.id);\n      this.props.close();\n      toast.success(\"刪除成功！！\");\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"inventory\">\n        <p className=\"title has-text-centered\">貨品資訊</p>\n\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">商品名稱</label>\n            <textarea\n              className=\"textarea\"\n              placeholder=\"Textarea\"\n              name=\"name\"\n              value={this.state.name}\n              onChange={this.handleChange}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">商品價格</label>\n            <input\n              type=\"number\"\n              className=\"input\"\n              name=\"price\"\n              value={this.state.price}\n              onChange={this.handleChange}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">附註</label>\n            <input\n              type=\"text\"\n              className=\"input\"\n              name=\"tags\"\n              value={this.state.tags}\n              onChange={this.handleChange}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">圖片路徑</label>\n            <input\n              type=\"text\"\n              className=\"input\"\n              name=\"image\"\n              value={this.state.image}\n              onChange={this.handleChange}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">存貨狀態</label>\n            <div className=\"select is-fullwidth\">\n              <select\n                name=\"status\"\n                value={this.state.status}\n                onChange={this.handleChange}\n              >\n                <option>有庫存</option>\n                <option>無庫存</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"field is-grouped is-grouped-centered\">\n          <div className=\"control\">\n            <button className=\"button is-link\" onClick={this.submit}>\n              Submit\n            </button>\n          </div>\n          <div className=\"control\">\n            <button\n              className=\"button is-danger\"\n              type=\"button\"\n              onClick={this.onDelete}\n            >\n              Delete\n            </button>\n          </div>\n          <div className=\"control\">\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => this.props.close()}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditInventory;\n"]},"metadata":{},"sourceType":"module"}