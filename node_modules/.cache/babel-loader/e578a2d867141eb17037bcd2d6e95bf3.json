{"ast":null,"code":"var _jsxFileName = \"/Users/wangyazhi/Documents/\\u4F5C\\u54C1\\u96C6/Platycerium-store/online-store/src/pages/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useForm } from \"react-hook-form\";\nimport axios from \"commons/axios\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = props => {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  const onSubmit = async data => {\n    console.log(data);\n\n    try {\n      const {\n        nickname,\n        email,\n        password\n      } = data;\n      const res = await axios.post(\"/auth/register\", {\n        nickname,\n        email,\n        password\n      });\n      const jwToken = res.data;\n      global.auth.setToken(jwToken);\n      console.log(jwToken);\n      toast.success(\"登入成功\");\n      props.history.push(\"/\");\n    } catch (error) {\n      const message = error.response.data.message;\n      toast.error(message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"box login-box\",\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Nickname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `input ${errors.nickname && \"is-danger\"}`,\n            name: \"nickname\",\n            type: \"text\",\n            placeholder: \"nickname\",\n            ...register(\"nickname\", {\n              required: \"需要填寫暱稱\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), errors.nickname && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"helper has-text-danger\",\n            children: errors.nickname.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `input ${errors.email && \"is-danger\"}`,\n            name: \"email\",\n            type: \"text\",\n            placeholder: \"email\",\n            ...register(\"email\", {\n              required: \"需要填寫信箱\",\n              pattern: {\n                value: /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/,\n                message: \"格式錯誤\"\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"helper has-text-danger\",\n            children: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `input ${errors.password && \"is-danger\"}`,\n            name: \"password\",\n            type: \"password\",\n            placeholder: \"password\",\n            ...register(\"password\", {\n              required: \"需要填寫密碼\",\n              minLength: {\n                value: 6,\n                message: \"密碼需要大於6位數\"\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"helper has-text-danger\",\n            children: errors.password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button is-fullwidth is-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"HLC1IFclXfL/K+q6lxeDS/Po7Wk=\", false, function () {\n  return [useForm];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/wangyazhi/Documents/作品集/Platycerium-store/online-store/src/pages/Register.js"],"names":["useForm","axios","toast","Register","props","register","handleSubmit","formState","errors","onSubmit","data","console","log","nickname","email","password","res","post","jwToken","global","auth","setToken","success","history","push","error","message","response","required","pattern","value","minLength"],"mappings":"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","sourcesContent":["import { useForm } from \"react-hook-form\";\nimport axios from \"commons/axios\";\nimport { toast } from \"react-toastify\";\n\nconst Register = (props) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = async (data) => {\n    console.log(data);\n\n    try {\n      const { nickname, email, password } = data;\n      const res = await axios.post(\"/auth/register\", {\n        nickname,\n        email,\n        password,\n      });\n      const jwToken = res.data;\n      global.auth.setToken(jwToken);\n      console.log(jwToken);\n      toast.success(\"登入成功\");\n      props.history.push(\"/\");\n    } catch (error) {\n      const message = error.response.data.message;\n      toast.error(message);\n    }\n  };\n\n  return (\n    <div className=\"login-wrapper\">\n      <form className=\"box login-box\" onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"field\">\n          <label className=\"label\">Nickname</label>\n          <div className=\"control\">\n            <input\n              className={`input ${errors.nickname && \"is-danger\"}`}\n              name=\"nickname\"\n              type=\"text\"\n              placeholder=\"nickname\"\n              {...register(\"nickname\", {\n                required: \"需要填寫暱稱\",\n              })}\n            />\n            {errors.nickname && (\n              <p className=\"helper has-text-danger\">\n                {errors.nickname.message}\n              </p>\n            )}\n          </div>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Email</label>\n          <div className=\"control\">\n            <input\n              className={`input ${errors.email && \"is-danger\"}`}\n              name=\"email\"\n              type=\"text\"\n              placeholder=\"email\"\n              {...register(\"email\", {\n                required: \"需要填寫信箱\",\n                pattern: {\n                  value:\n                    /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/,\n                  message: \"格式錯誤\",\n                },\n              })}\n            />\n            {errors.email && (\n              <p className=\"helper has-text-danger\">{errors.email.message}</p>\n            )}\n          </div>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Password</label>\n          <div className=\"control\">\n            <input\n              className={`input ${errors.password && \"is-danger\"}`}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"password\"\n              {...register(\"password\", {\n                required: \"需要填寫密碼\",\n                minLength: {\n                  value: 6,\n                  message: \"密碼需要大於6位數\",\n                },\n              })}\n            />\n            {errors.password && (\n              <p className=\"helper has-text-danger\">\n                {errors.password.message}\n              </p>\n            )}\n          </div>\n        </div>\n        <br />\n        <div className=\"control\">\n          <button className=\"button is-fullwidth is-primary\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}